# 众创易享 Desynk 产品大纲与技术架构方案
## 一、产品定位与核心价值
### 1. 产品定位
众创易享 Desynk是面向技术外包领域的敏捷协作平台，聚焦「精准匹配、信誉约束、安全交易」三大核心，通过分层级的信誉分体系规范接单方与派单方行为，结合灵活的项目交易规则和团队协作能力，打造安全、高效的技术外包生态，解决传统外包平台匹配低效、交易风险高、权责不清晰等痛点。平台支持React Native跨平台开发适配安卓、iOS、鸿蒙系统，且对接微信公众平台，用户绑定微信后可接收实时消息推送，提升使用便捷性与消息触达效率。
### 2. 核心价值
- **信誉驱动**：以动态信誉分体系为核心，分层管控用户权限，保障交易双方履约能力；
- **灵活交易**：支持押金/无押金两种项目模式，适配不同类型外包需求；
- **团队协作**：支持团队接单模式，适配中大型外包项目的多人协作场景；
- **安全保障**：资金监管、聊天记录存档、平台抽成透明化，降低交易纠纷风险；
- **精准匹配**：基于技术栈标签的智能推荐池，提升接单与派单的匹配效率；
- **跨端适配**：采用React Native实现安卓、iOS、鸿蒙多平台统一体验，降低用户使用门槛；
- **实时触达**：对接微信公众平台，绑定微信后即可接收项目动态、消息通知等推送，确保关键信息不遗漏。

## 二、核心产品设计
### 1. 用户体系设计
#### 1.1 账户类型（注册流程）
- 个人账户：用户注册默认创建个人账户，需完成手机号验证、基础信息（姓名/联系方式）填写；
- 企业账户：需先注册个人账户，完成后可申请企业资质，申请前提为当前账户的实人认证（人脸识别）与该企业法人一致。申请需提交企业四要素（企业名称/统一社会信用代码/法人姓名/企业对公账户）、企业资质上传。

| 账户类型 | 核心权限 |
|----------|----------|
| 个人账户 | 个人接单/派单，单次派单≤2个，无企业级资金监管 |
| 企业账户 | 企业级派单（单次≤50个）、对公结算、团队管理 |

#### 1.2 角色权限（注册必选，信誉分≥100解锁双权限）
| 角色 | 核心权限 | 权限约束（关联信誉分） |
|------|----------|------------------------|
| 接单方 | 查看推荐池、接取项目、组建团队、缴纳押金接单 | 详见「接单方信誉分规则」 |
| 派单方 | 发布项目、设置押金规则、支付项目款、创建项目群聊 | 详见「派单方信誉分规则」 |

#### 1.3 微信绑定功能
- 绑定路径：个人中心→账号安全→微信绑定，扫描二维码完成公众平台授权；
- 推送范围：项目被接单/接单被确认、项目验收提醒、押金退还通知、信誉分变更、群聊新消息、平台公告等；
- 解绑规则：支持在个人中心手动解绑，解绑后不再接收微信推送，不影响账户正常使用。

#### 1.4 信誉分体系（核心规则）
| 评分维度 | 分值 | 核心作用 |
|----------|------|----------|
| 初始分 | 60分 | 新用户基础分，低于60分触发接/派单限制 |
| 实人认证 | +15分 | 完成人脸识别/身份证验证 |
| 三要素认证 | +10分 | 法人/个人三要素核验通过 |
| 学生认证 | +10分 | 学生证/学信网验证，接单抽成降至10% |
| 完成订单 | +1分/单 | 订单正常完结（无纠纷），累计无上限 |
| 微信绑定 | +5分 | 首次绑定微信公众平台，一次性加分 |
| 违规扣分 | 详见「信誉分扣分规则」 | 根据违规行为类型扣除对应分值，触发权限限制 |

##### 信誉分扣分规则
| 违规场景分类 | 具体违规行为 | 扣分分值 |
|--------------|--------------|----------|
| 项目开发 | 客户方完全无责任，开发方恶意退出且项目失败 | -10或-20分 |
| 项目开发 | 能力或态度问题导致项目失败并退款 | -10或-20分 |
| 项目开发 | 项目进入仲裁并判断为开发失败 | -5或-10分 |
| 项目开发 | 项目转包 | -5分 |
| 诚信合作 | 言语引战、谩骂 | -1或-2分 |
| 诚信合作 | 恶意失联 | -2或-5分 |
| 诚信合作 | 对接客户后消极沟通 | -1或-2分 |
| 诚信合作 | 虚假简历、虚假承诺 | -2或-5分 |
| 诚信合作 | 虚假进度、虚假日报 | -5分 |
| 诚信合作 | 恶意提交低质量简历 | -1分 |
| 违规产品操作 | 简历上留联系方式 | -1分 |
| 违规产品操作 | 简历上留联系方式，恶意绕过监管 | -2分 |
| 违规产品操作 | 成交前，和客户私下沟通（跳单未遂） | -1分 |
| 违规产品操作 | 诱导客户私下成交（跳单未遂） | -10或-20分 |
| 违规产品操作 | 和客户完成私下成交（跳单成功） | -10或-20分 |
| 违规产品操作 | 一人多号 | -3分 |
| 违规产品操作 | 利用软件漏洞 | -5或-10分 |

##### 接单方信誉分权限约束
| 信誉分区间 | 接单限制 | 附加约束 |
|------------|----------|----------|
| ≥90分 | 无上限 | 优先推广权限 |
| 80-89分 | 单次最多接5个单 | 优先推广权限 |
| 70-79分 | 单次最多接3个单 | - |
| 60-69分 | 单次最多接1个单 | 仅可接有押金项目，无推荐权限 |
| 50-59分 | 单次最多接1个单 | 无法接无押金项目 |
| 40-49分 | 3天内无法接单 | 需每日答题（信誉分恢复题），每题+1分，每日上限5分 |
| 30-39分 | 7天内无法接单 | 强制完成信誉分培训+答题，恢复至40分后解锁 |
| <30分 | 永久封号 | 账户冻结，需人工申诉解冻 |

##### 派单方信誉分权限约束
| 信誉分区间 | 派单限制 | 附加约束 |
|------------|----------|----------|
| ≥80分 | 无核心限制 | 优先推广权限 |
| 60-79分 | 派单前需缴纳完整项目款（平台监管） | 无优先推广 |
| <60分 | 无法发布任何项目 | 需完成认证/历史订单结清恢复至60分以上 |

### 2. 项目交易体系设计
#### 2.1 项目类型（发布时必选）
| 项目类型 | 发布规则 | 接单规则 |
|----------|----------|----------|
| 无需押金 | 派单方无需缴纳定金，可随时发布 | 接单方无押金要求，信誉分≥60分即可接取 |
| 需要押金 | 1. 派单方需缴纳订单总额30%作为定金（平台监管）<br>2. 派单方设置押金额度（≤订单额30%） | 1. 接单方需先缴纳对应押金（平台监管）<br>2. 信誉分≥50分方可接取 |

#### 2.2 项目信息规范（发布必填/可选）
| 字段 | 类型 | 是否必填 | 说明 |
|------|------|----------|------|
| 标题 | 文本 | 是 | 限50字内，突出项目核心需求 |
| 需求 | 富文本 | 是 | 支持格式排版、附件上传 |
| 图片/视频 | 多媒体 | 否 | 最多上传5个文件，单个≤100MB |
| 技术栈 | 文本数组 | 是 | 如「Java」「React」「Kotlin」，用于推荐池匹配 |
| 截至日期 | 日期 | 是 | 项目交付截止时间 |
| 预算 | 数字 | 是 | 精确到元，平台抽成基于此计算 |
| 是否需要押金 | 布尔 | 是 | 关联押金规则 |
| 押金占比 | 数字 | 否（选押金项目则必填） | 0-30%，自动计算押金金额 |

#### 2.3 平台抽成规则
| 接单账户类型 | 抽成比例 | 抽成结算时机 |
|--------------|----------|--------------|
| 普通账户 | 12.5% | 项目完成验收后，从派单方支付的全款中扣除 |
| 学生认证账户 | 10% | 同上 |

#### 2.4 资金申请机制
- 申请场景：乙方（接单方）在完成项目过程中需为甲方（派单方）购买服务器、域名等，可发起资金申请；
- 申请流程：
  1. 乙方在项目群聊内发起资金申请，需提交申请说明（用途、金额等）及相关截图（订单截图等）；
  2. 乙方选择收款账户（微信/支付宝/储蓄卡）；
  3. 甲方在群内查看资金申请消息，可选择拒绝或同意；
  4. 若甲方同意，需当场将款项支付至平台公款账户；
  5. 平台确认收款后，向乙方所选收款账户付款，完成拨款；
- 消息通知：资金申请发起、甲方同意/拒绝、拨款完成等状态变更同步推送至双方绑定的微信。

### 3. 团队协作体系设计
#### 3.1 团队功能核心规则
- 团队创建：接单方（信誉分≥70分）可创建团队，生成唯一团队ID，支持邀请其他接单方加入；
- 团队接单：团队可作为接单主体接取项目，接单时需选择参与成员（至少1人）；
- 团队管理：团队负责人可设置成员权限（接单权限、结算权限），支持移除成员、解散团队；
- 结算规则：团队接单的项目款，可由负责人分配至成员个人账户，平台抽成按成员类型（学生/普通）分别计算；
- 消息同步：团队项目相关通知（如验收提醒、资金到账、资金申请状态变更）同步推送至团队负责人及成员绑定的微信。

### 4. 实时通信与群聊体系设计
#### 4.1 群聊创建规则
- 派单方发布项目后，自动创建「项目群聊」，群名=项目名，初始成员仅派单方；
- 项目被接取后，自动拉入接单方：<br>→ 个人接单：拉入接单方个人账号；<br>→ 团队接单：拉入选定的团队成员；
- 群聊权限：派单方为群主，可踢人/禁言，接单方仅可发言/上传文件、发起资金申请；
- 微信推送：群聊新消息、@提醒、文件上传通知、资金申请相关通知等同步推送至成员绑定的微信，支持点击推送直接跳转至APP群聊页面。

#### 4.2 群聊生命周期管理
| 阶段 | 群聊状态 | 数据保存规则 |
|------|----------|--------------|
| 项目进行中 | 可正常聊天、上传文件、发起/处理资金申请 | 实时同步至服务器，无保存期限 |
| 项目结束 | 只读状态（不可发消息、不可发起资金申请） | 服务器保存6个月 |
| 6个月内申请存档 | 只读状态 | 存档后保存1-2年（纠纷证据） |
| 未申请存档 | 只读状态 | 6个月后自动清理（仅保留群基本信息） |

### 5. 智能推荐池设计
#### 5.1 推荐逻辑
- 接单方填写「擅长技术栈」「接单地域」「预算范围」等标签；
- 平台基于标签匹配派单方发布的项目（技术栈重合度≥80%优先）；
- 触发时机：接单方打开APP、点击「刷新推荐池」按钮、有新项目发布（匹配标签）；
- 推荐排序：优先展示信誉分≥85分的派单方项目，其次按发布时间排序；
- 推送提醒：当推荐池新增高匹配度项目（技术栈重合度≥90%）时，向接单方绑定的微信推送提醒。

#### 5.2 推荐池展示内容
项目标题、预算、截至日期、是否需要押金、派单方信誉分、项目核心需求摘要。

## 三、技术架构设计
### 1. 技术栈选型
| 技术层 | 选型 | 选型理由 |
|--------|------|----------|
| 后端核心 | Kotlin  | 1. Kotlin兼容Java生态，空安全特性降低后端bug；<br>2. 支持协程（Coroutine）提升异步处理效率 |
| 前端核心 | React Native + TypeScript + Ant Design Mobile | 1. React Native实现安卓、iOS、鸿蒙跨平台统一渲染，减少多端开发成本；<br>2. TypeScript强类型约束降低前端逻辑错误； |
| 数据库 | MongoDB / Redis | 1. MongoDB：文档型数据库，适配项目/用户/聊天记录等非结构化数据，支持灵活的字段扩展；<br>2. Redis：缓存信誉分、推荐池数据、实时在线状态、微信绑定信息，提升访问效率 |
| 实时通信 | WebSocket（Netty） + Socket.IO | 1. Netty（Kotlin）实现高性能WebSocket服务，支撑群聊实时通信及资金申请消息同步；<br>2. Socket.IO兼容多端，处理断线重连、心跳检测；<br>3. 聊天消息及资金申请信息采用「先存库后推送」，保证数据一致性 |
| 存储服务 | Hash存储 | 存储项目图片/视频、企业资质、聊天附件、资金申请相关截图等多媒体文件 |
| 支付集成 | 第三方支付SDK（支付宝/微信） + 平台资金监管模块 | 处理定金、押金、项目款、资金申请款项的代收代付，适配企业对公结算 |
| 微信对接 | 微信公众平台API + 消息推送SDK | 1. 对接微信OAuth2.0授权实现账户绑定；<br>2. 利用模板消息/订阅消息接口实现各类通知推送（含资金申请相关通知）；<br>3. 支持推送消息跳转链接配置，实现APP页面深度跳转 |

### 2. 后端核心开发理念

#### 2.1 高可用与性能优化
- 信誉分缓存：Redis缓存用户当前信誉分及扣分记录，更新时触发「缓存更新+数据库同步」，避免高频查询数据库；
- 推荐池预计算：离线计算接单方与项目的匹配度，Redis缓存结果，前端刷新时直接返回；
- 分库分表：MongoDB按「用户ID哈希」分片存储用户数据及微信绑定信息，按「项目ID」分片存储项目数据及资金申请记录，支撑百万级用户；
- 异步处理：订单完成加分、聊天记录存档、微信推送、资金申请拨款等非核心流程采用异步线程池（Coroutine）处理，避免阻塞主流程；
- 跨端适配优化：后端API统一返回格式，前端通过React Native的适配组件自动适配不同系统的屏幕尺寸、状态栏样式。

#### 2.2 安全与合规
- 数据加密：企业四要素、法人信息、微信openId/unionId、收款账户信息采用AES加密存储，敏感接口（如支付、微信绑定、资金申请）采用HTTPS + 签名验证；
- 权限校验：基于RBAC模型，接口层拦截器校验用户角色+信誉分权限（如接单接口校验「信誉分≥60分」）；
- 日志审计：记录所有资金操作（含资金申请拨款）、信誉分变更（含扣分）、群聊消息删除、微信绑定/解绑等关键操作，支持溯源；
- 合规存储：聊天记录、微信推送日志、资金申请记录保存周期符合《数据安全法》，存档数据加密，过期自动清理；
- 微信推送合规：严格遵循微信公众平台消息推送规范，提供推送开关，支持用户自主关闭特定类型推送，避免骚扰。

#### 2.3 可扩展性设计
- 插件化架构：抽成规则、信誉分加减分规则、推荐算法、微信推送模板、资金申请审核规则等核心规则采用插件化设计，支持动态配置（无需重启服务）；
- 多端适配：后端提供RESTful API + GraphQL API，适配React Native开发的Web/APP/小程序多端需求；
- 国际化支持：Kotlin的国际化（i18n）框架，预留英文/多语言适配能力（AgileHub海外版）；
- 推送扩展：预留短信推送、APP内推送等多渠道集成能力，可根据用户需求扩展。

### 3. 前端核心设计思路
#### 3.1 跨平台适配方案
- 基于React Native的统一渲染引擎，通过Platform API适配不同系统特性（如安卓的返回键、iOS的导航栏样式、鸿蒙的权限申请逻辑）；
- 采用Flex布局实现多屏幕尺寸自适应，关键组件（如按钮、输入框、资金申请表单）使用Ant Design Mobile的跨端兼容组件；
- 原生能力集成：通过React Native的Native Modules集成各系统原生能力（如文件上传、相机调用、推送权限申请、支付功能）。

#### 3.2 状态管理
- 采用Redux Toolkit管理全局状态（用户信息、信誉分、微信绑定状态、当前项目列表、资金申请记录）；
- 局部状态（推荐池刷新、群聊消息、资金申请表单）采用React Context + useReducer；
- 实时通信状态：Socket.IO连接状态、未读消息数、微信推送状态、资金申请状态等通过自定义Hook（useSocket、useWechatPush、useFundApplication）封装。

#### 3.3 性能优化
- 虚拟列表：推荐池项目列表采用react-native-virtualized-list，支撑海量项目展示；
- 懒加载：项目图片/视频、聊天附件、资金申请截图采用懒加载，减少首屏加载时间；
- 缓存策略：本地缓存用户标签、已接项目列表、微信绑定状态、资金申请历史，降低接口请求频率；
- 推送优化：微信推送点击后通过Deep Link直接跳转至对应页面（如资金申请详情页），减少用户操作路径。


## 四、核心业务流程
### 1. 企业账户申请流程
1. 用户注册个人账户→完成手机号验证、基础信息填写；
2. 个人账户完成实人认证（人脸识别）；
3. 进入个人中心→账户类型→申请企业账户；
4. 提交企业四要素（企业名称/统一社会信用代码/法人姓名/企业对公账户）、企业资质上传；
5. 系统校验实人认证信息与企业法人信息是否一致，一致则进入审核；
6. 审核通过→企业账户开通，保留原个人账户信息及信誉分；
7. （可选）完成三要素认证（+10分）→ 微信绑定（+5分），提升信誉分及权限。

### 2. 押金项目交易流程
1. 派单方发布押金项目→缴纳30%定金至平台；
2. 接单方在推荐池匹配项目→查看押金规则（预算10万，押金30%=3万）；
3. 接单方缴纳3万押金→平台锁定双方资金；
4. 自动创建项目群聊，拉入团队成员→向双方绑定的微信推送「项目接单成功」通知；
5. 项目开发过程中：
   - 群聊消息、文件上传等同步推送至微信；
   - 若乙方需资金，在群内发起资金申请，提交说明及截图，选择收款账户；
   - 甲方查看后选择同意/拒绝，同意则支付款项至平台公款账户，平台拨款至乙方账户，相关状态同步推送至微信；
6. 项目完成验收→派单方确认付款→平台扣除抽成（12.5%/10%）→向接单方发放尾款（7万-抽成）+退还押金；
7. 向双方绑定的微信推送「项目验收完成」「资金到账/押金退还」通知；
8. 接单方信誉分+1→推荐池优先级提升。

### 3. 资金申请流程
1. 乙方（接单方）在项目群聊内点击「资金申请」按钮；
2. 填写申请金额、申请说明，上传相关截图（订单截图等），选择收款账户类型（微信/支付宝/储蓄卡）并填写账户信息；
3. 提交申请→群聊内生成资金申请消息，同步推送至甲方微信；
4. 甲方在群聊内查看资金申请详情，选择「同意」或「拒绝」：
   - 选择拒绝：填写拒绝理由，乙方收到拒绝通知（群聊消息+微信推送）；
   - 选择同意：跳转至支付页面，向平台公款账户支付对应金额；
5. 平台收到甲方支付的款项后，自动向乙方所选收款账户拨款；
6. 拨款完成后，向双方推送「资金申请拨款完成」通知（群聊消息+微信推送），更新资金申请状态为「已完成」。

### 4. 群聊生命周期流程
1. 派单方发布项目→自动创建群聊（仅派单方）→向派单方微信推送「群聊创建成功」通知；
2. 接单方接单→平台自动拉接入单方/团队成员→向相关成员微信推送「已加入项目群聊」通知；
3. 项目进行中→支持聊天、文件上传、发起/处理资金申请，相关操作实时同步；
4. 项目验收完成→群聊设为只读（不可发消息、不可发起资金申请）→向成员微信推送「群聊已转为只读」通知；
5. 6个月内：双方可申请存档→平台将聊天记录及资金申请记录加密存储至归档库（1-2年）；
6. 6个月未申请→自动清理聊天记录及资金申请记录（保留群基本信息）→向群主微信推送「群聊记录即将清理」提醒。

### 5. 微信绑定与推送流程
1. 用户进入个人中心→账号安全→微信绑定；
2. 前端调用后端接口获取微信公众平台授权URL；
3. 跳转至微信授权页面，用户确认授权；
4. 微信授权回调携带code，前端将code传递给后端；
5. 后端通过code调用微信API获取openId/unionId，完成绑定并更新用户信誉分（+5分）；
6. 后端返回绑定成功结果，前端更新绑定状态；
7. 后续触发推送事件（如项目匹配、群聊消息、资金申请相关操作）时，后端调用微信模板消息API推送通知；
8. 用户点击微信推送，通过Deep Link跳转至APP对应页面。

## 五、产品迭代规划
### 1. MVP阶段（核心功能）
- 基础用户注册/认证（含个人账户注册、实人认证）、企业账户申请流程、信誉分体系（含加分+扣分规则）；
- 项目发布/接单、押金/无押金交易流程；
- 资金申请核心机制（发起、处理、拨款）；
- 基础推荐池、实时群聊功能；
- 平台抽成与结算功能；
- React Native跨平台基础适配（安卓+iOS）；
- 微信绑定核心功能与基础通知推送（项目接单、验收提醒、资金申请通知）。

### 2. 增长阶段
- 团队接单功能、团队管理后台；
- 信誉分答题恢复功能、人工申诉流程；
- 推荐池算法优化（基于接单成功率）；
- 聊天记录及资金申请记录存档与纠纷举证功能；
- 鸿蒙系统适配完善；
- 微信推送功能扩展（群聊@提醒、高匹配项目推荐、资金申请状态详情）；
- 违规行为自动识别与扣分触发（如简历留联系方式检测）。

### 3. 成熟阶段
- 企业级资金监管、对公结算；
- 海外版适配（多语言、跨境支付）；
- 智能需求解析（AI提取项目技术栈）；
- 区块链存证（聊天记录/订单合同/资金申请记录）；
- 微信推送个性化配置（支持用户选择接收通知类型）；
- 多渠道推送融合（微信+短信+APP内推送）；
- 跨端性能优化（启动速度、页面流畅度提升）。

## 六、核心优势与差异化
1. **灵活的账户体系**：默认个人账户，满足条件可升级企业账户，实人认证与法人信息关联保障账户真实性；
2. **信誉分分层管控**：涵盖加分与扣分完整规则，从接单数量、押金权限、推广优先级多维度约束，解决外包履约风险；
3. **创新资金申请机制**：支持项目过程中资金申请与监管，保障乙方合理支出，规范资金流向；
4. **灵活的押金规则**：支持定金+押金双重资金监管，保障交易安全；
5. **团队协作适配**：团队接单+成员群聊，适配中大型外包项目；
6. **学生友好型抽成**：学生认证降低抽成，吸引年轻开发者群体；
7. **高性能实时通信**：基于Netty的WebSocket服务，支撑高并发群聊及资金申请消息同步场景；
8. **全平台覆盖**：React Native跨端开发，实现安卓、iOS、鸿蒙统一体验，降低用户使用门槛；
9. **实时消息触达**：对接微信公众平台，绑定后关键通知（含资金申请相关）精准推送，提升用户响应效率；
10. **合规安全保障**：严格遵循数据安全与微信推送规范，兼顾用户体验与合规要求。